# Ingress Fukushima Web


## ディレクトリ構成

* `src` ソースファイル。開発者は基本的にこのディレクトリ内のファイルを編集する
    * `src/img` 画像ファイルを配置するディレクトリ
    * `src/js` JSファイルを配置するディレクトリ
    * `src/layout` HTMLのテンプレートファイルを配置するディレクトリ
    * `src/scss` SCSSファイルを配置するディレクトリ
    * `src/sub` 下層ページのテンプレート。下層ページを増やす場合はこのディレクトリを複製すると良い
    * `src/index.html` トップページ。SwigというHTMLメタ言語を利用している。`src/layout/layout.html`の一部を上書きする形で書かれている
* `dist` コンパイル済みファイル。本番サーバに公開する際はこのディレクトリ内のファイルを公開する。
* `tool` 開発支援ツール



## 手順

### 1. 開発をはじめる

1. `tool/initialize` を実行して、リポジトリにライブラリ等をインストールしてください
    * 基本的に、リポジトリをクローンした後に1度だけ実行すればOKです
    * `初期化が完了しました`と表示されたら正常終了です
    * 正常終了しなかった場合は、「2. エラーが発生したら」の手順に従ってください

2. `src/layout/base.html`にbaseタグを記述したhtmlを配置してください

    ```
        <base href="http://localhost:8000/">
    ```

3. `tool/gulp-watch` を実行して、開発を開始してください
    * [http://localhost:8000/](http://localhost:8000/)にアクセスするとページを表示できます
    * `tool/gulp-watch` 実行中は、 `src` ディレクトリ内のファイルの変更が監視されています
    * `src` ディレクトリ内のファイルを編集すると、自動でコンパイルされて `dist` ディレクトリ内に配置されます
    * 実行中にエラーが発生した場合は、実行中の `tool/gulp-watch` を終了し、再度実行してみてください
    * 自力でエラーが解決できない場合は、「2. エラーが発生したら」の手順に従ってください

### 2. エラーが発生したら

1. `tool/versions` を実行して、バージョン情報を出力してください

2. バージョン情報とエラーメッセージを管理者まで送ってみてください
